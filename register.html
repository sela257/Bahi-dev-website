<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅูุดุงุก ุญุณุงุจ - BaHi Security Forex</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
</head>
<body class="auth-page">
    <div class="auth-background">
        <div class="auth-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
    </div>

    <div class="auth-container">
        <div class="auth-card register-card">
            <div class="auth-header">
                <div class="auth-logo">
                    <i class="fas fa-shield-alt"></i>
                    <span>BaHi Security Forex</span>
                </div>
                <h2>ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ</h2>
                <p>ุงูุถู ุฅูู ุฃููู ููุตุฉ ุชุฏุงูู ูู ุงูุนุงูู</p>
            </div>

            <div class="registration-steps">
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <span>ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ</span>
                </div>
                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <span>ุงูุฃูุงู ูุงูุญูุงูุฉ</span>
                </div>
                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <span>ุงูุชุญูู ูุงูุชูุนูู</span>
                </div>
            </div>

            <form class="auth-form" id="registerForm">
                <!-- Step 1: Basic Information -->
                <div class="form-step active" id="step1">
                    <div class="form-group">
                        <label for="firstName">ุงูุงุณู ุงูุฃูู</label>
                        <div class="input-container">
                            <i class="fas fa-user"></i>
                            <input type="text" id="firstName" name="firstName" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="lastName">ุงูุงุณู ุงูุฃุฎูุฑ</label>
                        <div class="input-container">
                            <i class="fas fa-user"></i>
                            <input type="text" id="lastName" name="lastName" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                        <div class="input-container">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="email" name="email" required>
                            <div class="email-verification">
                                <i class="fas fa-check-circle"></i>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="phone">ุฑูู ุงููุงุชู</label>
                        <div class="input-container">
                            <i class="fas fa-phone"></i>
                            <select class="country-code">
                                <option value="+966">๐ธ๐ฆ +966</option>
                                <option value="+971">๐ฆ๐ช +971</option>
                                <option value="+965">๐ฐ๐ผ +965</option>
                                <option value="+974">๐ถ๐ฆ +974</option>
                                <option value="+973">๐ง๐ญ +973</option>
                                <option value="+968">๐ด๐ฒ +968</option>
                                <option value="+962">๐ฏ๐ด +962</option>
                                <option value="+961">๐ฑ๐ง +961</option>
                                <option value="+20">๐ช๐ฌ +20</option>
                            </select>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="country">ุงูุจูุฏ</label>
                        <div class="input-container">
                            <i class="fas fa-globe"></i>
                            <select id="country" name="country" required>
                                <option value="">ุงุฎุชุฑ ุงูุจูุฏ</option>
                                <option value="SA">ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ</option>
                                <option value="AE">ุงูุฅูุงุฑุงุช ุงูุนุฑุจูุฉ ุงููุชุญุฏุฉ</option>
                                <option value="KW">ุงููููุช</option>
                                <option value="QA">ูุทุฑ</option>
                                <option value="BH">ุงูุจุญุฑูู</option>
                                <option value="OM">ุนูุงู</option>
                                <option value="JO">ุงูุฃุฑุฏู</option>
                                <option value="LB">ูุจูุงู</option>
                                <option value="EG">ูุตุฑ</option>
                            </select>
                        </div>
                    </div>

                    <button type="button" class="btn-primary full-width" onclick="nextStep()">
                        <span>ุงูุชุงูู</span>
                        <i class="fas fa-arrow-left"></i>
                    </button>
                </div>

                <!-- Step 2: Security -->
                <div class="form-step" id="step2">
                    <div class="form-group">
                        <label for="password">ูููุฉ ุงููุฑูุฑ</label>
                        <div class="input-container">
                            <i class="fas fa-key"></i>
                            <input type="password" id="password" name="password" required>
                            <button type="button" class="password-toggle" onclick="togglePassword('password')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="password-requirements">
                            <div class="requirement" id="length">
                                <i class="fas fa-times"></i>
                                <span>8 ุฃุญุฑู ุนูู ุงูุฃูู</span>
                            </div>
                            <div class="requirement" id="uppercase">
                                <i class="fas fa-times"></i>
                                <span>ุญุฑู ูุจูุฑ ูุงุญุฏ ุนูู ุงูุฃูู</span>
                            </div>
                            <div class="requirement" id="lowercase">
                                <i class="fas fa-times"></i>
                                <span>ุญุฑู ุตุบูุฑ ูุงุญุฏ ุนูู ุงูุฃูู</span>
                            </div>
                            <div class="requirement" id="number">
                                <i class="fas fa-times"></i>
                                <span>ุฑูู ูุงุญุฏ ุนูู ุงูุฃูู</span>
                            </div>
                            <div class="requirement" id="special">
                                <i class="fas fa-times"></i>
                                <span>ุฑูุฒ ุฎุงุต ูุงุญุฏ ุนูู ุงูุฃูู</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword">ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ</label>
                        <div class="input-container">
                            <i class="fas fa-key"></i>
                            <input type="password" id="confirmPassword" name="confirmPassword" required>
                            <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>

                    <div class="security-options">
                        <h4>ุฎูุงุฑุงุช ุงูุฃูุงู ุงูุฅุถุงููุฉ</h4>
                        <label class="checkbox-container">
                            <input type="checkbox" id="twoFactor">
                            <span class="checkmark"></span>
                            ุชูุนูู ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ (2FA)
                        </label>
                        <label class="checkbox-container">
                            <input type="checkbox" id="biometric">
                            <span class="checkmark"></span>
                            ุชูุนูู ุงููุตุงุฏูุฉ ุงูุจูููุชุฑูุฉ
                        </label>
                        <label class="checkbox-container">
                            <input type="checkbox" id="emailAlerts">
                            <span class="checkmark"></span>
                            ุชูุจููุงุช ุงูุฃูุงู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
                        </label>
                    </div>

                    <div class="form-buttons">
                        <button type="button" class="btn-secondary" onclick="prevStep()">
                            <i class="fas fa-arrow-right"></i>
                            <span>ุงูุณุงุจู</span>
                        </button>
                        <button type="button" class="btn-primary" onclick="nextStep()">
                            <span>ุงูุชุงูู</span>
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 3: Verification -->
                <div class="form-step" id="step3">
                    <div class="verification-section">
                        <h4>ุงูุชุญูู ูู ุงููููุฉ</h4>
                        <p>ูุถูุงู ุฃูุตู ุฏุฑุฌุงุช ุงูุฃูุงูุ ูุฑุฌู ุชุญููู ุตูุฑุฉ ูู ูููุชู ุงูุดุฎุตูุฉ</p>
                        
                        <div class="file-upload">
                            <div class="upload-area" id="uploadArea">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <h5>ุงุณุญุจ ูุฃููุช ุงูููู ููุง</h5>
                                <p>ุฃู ุงููุฑ ููุงุฎุชูุงุฑ</p>
                                <input type="file" id="idDocument" accept="image/*" hidden>
                            </div>
                            <div class="upload-preview" id="uploadPreview"></div>
                        </div>
                    </div>

                    <div class="verification-section">
                        <h4>ุงูุชุญูู ูู ุฑูู ุงููุงุชู</h4>
                        <div class="phone-verification">
                            <button type="button" class="btn-secondary" onclick="sendSMS()">
                                <i class="fas fa-sms"></i>
                                ุฅุฑุณุงู ุฑูุฒ ุงูุชุญูู
                            </button>
                            <div class="verification-code">
                                <input type="text" maxlength="1" class="code-input">
                                <input type="text" maxlength="1" class="code-input">
                                <input type="text" maxlength="1" class="code-input">
                                <input type="text" maxlength="1" class="code-input">
                                <input type="text" maxlength="1" class="code-input">
                                <input type="text" maxlength="1" class="code-input">
                            </div>
                        </div>
                    </div>

                    <div class="terms-section">
                        <label class="checkbox-container">
                            <input type="checkbox" id="terms" required>
                            <span class="checkmark"></span>
                            ุฃูุงูู ุนูู <a href="#">ุดุฑูุท ุงูุงุณุชุฎุฏุงู</a> ู <a href="#">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</a>
                        </label>
                        <label class="checkbox-container">
                            <input type="checkbox" id="marketing">
                            <span class="checkmark"></span>
                            ุฃูุงูู ุนูู ุชููู ุงูุนุฑูุถ ูุงูุชุญุฏูุซุงุช ุงูุชุณููููุฉ
                        </label>
                    </div>

                    <div class="form-buttons">
                        <button type="button" class="btn-secondary" onclick="prevStep()">
                            <i class="fas fa-arrow-right"></i>
                            <span>ุงูุณุงุจู</span>
                        </button>
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-user-plus"></i>
                            <span>ุฅูุดุงุก ุงูุญุณุงุจ</span>
                            <div class="btn-loader"></div>
                        </button>
                    </div>
                </div>
            </form>

            <div class="auth-footer">
                <p>ูุฏูู ุญุณุงุจ ุจุงููุนูุ <a href="login.html">ุชุณุฌูู ุงูุฏุฎูู</a></p>
            </div>
        </div>

        <div class="auth-info">
            <div class="info-card">
                <h3>ูููุฒุงุช ุงูุญุณุงุจ</h3>
                <ul>
                    <li><i class="fas fa-check"></i> ุชุฏุงูู ุจุฏูู ุนูููุงุช</li>
                    <li><i class="fas fa-check"></i> ุฅุดุงุฑุงุช ุชุฏุงูู ูุฌุงููุฉ</li>
                    <li><i class="fas fa-check"></i> ุฏุนู ููู 24/7</li>
                    <li><i class="fas fa-check"></i> ุชุญูููุงุช ูุชูุฏูุฉ</li>
                    <li><i class="fas fa-check"></i> ุญูุงูุฉ ุงูุฃููุงู</li>
                </ul>
            </div>
            <div class="info-card">
                <h3>ุฃุฑูุงู ูุฐููุฉ</h3>
                <div class="achievement-stats">
                    <div class="achievement">
                        <i class="fas fa-users"></i>
                        <span class="number">1M+</span>
                        <span class="label">ูุชุฏุงูู</span>
                    </div>
                    <div class="achievement">
                        <i class="fas fa-dollar-sign"></i>
                        <span class="number">$50M+</span>
                        <span class="label">ุฃุฑุจุงุญ ููููุฉ</span>
                    </div>
                    <div class="achievement">
                        <i class="fas fa-shield-alt"></i>
                        <span class="number">100%</span>
                        <span class="label">ุฃูุงู</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        let currentStep = 1;
        const totalSteps = 3;

        // Initialize registration page
        document.addEventListener('DOMContentLoaded', function() {
            initializeRegistration();
        });

        function initializeRegistration() {
            // Password validation
            document.getElementById('password').addEventListener('input', validatePassword);
            document.getElementById('confirmPassword').addEventListener('input', validatePasswordMatch);
            
            // File upload
            initializeFileUpload();
            
            // Verification code inputs
            initializeVerificationCode();
            
            // Form submission
            document.getElementById('registerForm').addEventListener('submit', handleRegistration);
        }

        function nextStep() {
            if (validateCurrentStep()) {
                if (currentStep < totalSteps) {
                    // Hide current step
                    document.getElementById(`step${currentStep}`).classList.remove('active');
                    document.querySelector(`.step[data-step="${currentStep}"]`).classList.remove('active');
                    
                    // Show next step
                    currentStep++;
                    document.getElementById(`step${currentStep}`).classList.add('active');
                    document.querySelector(`.step[data-step="${currentStep}"]`).classList.add('active');
                }
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                // Hide current step
                document.getElementById(`step${currentStep}`).classList.remove('active');
                document.querySelector(`.step[data-step="${currentStep}"]`).classList.remove('active');
                
                // Show previous step
                currentStep--;
                document.getElementById(`step${currentStep}`).classList.add('active');
                document.querySelector(`.step[data-step="${currentStep}"]`).classList.add('active');
            }
        }

        function validateCurrentStep() {
            const currentStepElement = document.getElementById(`step${currentStep}`);
            const requiredInputs = currentStepElement.querySelectorAll('input[required]');
            
            for (let input of requiredInputs) {
                if (!input.value.trim()) {
                    showAlert('ูุฑุฌู ููุก ุฌููุน ุงูุญููู ุงููุทููุจุฉ', 'error');
                    input.focus();
                    return false;
                }
            }
            
            if (currentStep === 1) {
                // Validate email format
                const email = document.getElementById('email').value;
                if (!isValidEmail(email)) {
                    showAlert('ูุฑุฌู ุฅุฏุฎุงู ุจุฑูุฏ ุฅููุชุฑููู ุตุญูุญ', 'error');
                    return false;
                }
            }
            
            if (currentStep === 2) {
                // Validate password strength
                if (!isPasswordStrong()) {
                    showAlert('ูููุฉ ุงููุฑูุฑ ูุง ุชูุจู ุงููุชุทูุจุงุช ุงูุฃูููุฉ', 'error');
                    return false;
                }
                
                // Validate password match
                const password = document.getElementById('password').value;
                const confirmPassword = document.getElementById('confirmPassword').value;
                if (password !== confirmPassword) {
                    showAlert('ูููุงุช ุงููุฑูุฑ ุบูุฑ ูุชุทุงุจูุฉ', 'error');
                    return false;
                }
            }
            
            return true;
        }

        function validatePassword() {
            const password = document.getElementById('password').value;
            const requirements = {
                length: password.length >= 8,
                uppercase: /[A-Z]/.test(password),
                lowercase: /[a-z]/.test(password),
                number: /[0-9]/.test(password),
                special: /[^A-Za-z0-9]/.test(password)
            };
            
            Object.keys(requirements).forEach(req => {
                const element = document.getElementById(req);
                const icon = element.querySelector('i');
                
                if (requirements[req]) {
                    element.classList.add('valid');
                    icon.className = 'fas fa-check';
                } else {
                    element.classList.remove('valid');
                    icon.className = 'fas fa-times';
                }
            });
        }

        function validatePasswordMatch() {
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const confirmInput = document.getElementById('confirmPassword');
            
            if (confirmPassword && password !== confirmPassword) {
                confirmInput.style.borderColor = '#ff4444';
            } else {
                confirmInput.style.borderColor = '#44ff44';
            }
        }

        function isPasswordStrong() {
            const password = document.getElementById('password').value;
            return password.length >= 8 &&
                   /[A-Z]/.test(password) &&
                   /[a-z]/.test(password) &&
                   /[0-9]/.test(password) &&
                   /[^A-Za-z0-9]/.test(password);
        }

        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        function togglePassword(inputId) {
            const passwordInput = document.getElementById(inputId);
            const toggleBtn = passwordInput.parentElement.querySelector('.password-toggle i');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleBtn.className = 'fas fa-eye-slash';
            } else {
                passwordInput.type = 'password';
                toggleBtn.className = 'fas fa-eye';
            }
        }

        function initializeFileUpload() {
            const uploadArea = document.getElementById('uploadArea');
            const fileInput = document.getElementById('idDocument');
            const preview = document.getElementById('uploadPreview');
            
            uploadArea.addEventListener('click', () => fileInput.click());
            
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('dragover');
            });
            
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('dragover');
            });
            
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    handleFileUpload(files[0]);
                }
            });
            
            fileInput.addEventListener('change', (e) => {
                if (e.target.files.length > 0) {
                    handleFileUpload(e.target.files[0]);
                }
            });
        }

        function handleFileUpload(file) {
            if (file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const preview = document.getElementById('uploadPreview');
                    preview.innerHTML = `
                        <div class="file-preview">
                            <img src="${e.target.result}" alt="Preview">
                            <div class="file-info">
                                <span class="file-name">${file.name}</span>
                                <span class="file-size">${(file.size / 1024 / 1024).toFixed(2)} MB</span>
                            </div>
                            <button type="button" class="remove-file" onclick="removeFile()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    `;
                    preview.style.display = 'block';
                };
                reader.readAsDataURL(file);
            } else {
                showAlert('ูุฑุฌู ุงุฎุชูุงุฑ ููู ุตูุฑุฉ ุตุญูุญ', 'error');
            }
        }

        function removeFile() {
            const preview = document.getElementById('uploadPreview');
            const fileInput = document.getElementById('idDocument');
            preview.style.display = 'none';
            preview.innerHTML = '';
            fileInput.value = '';
        }

        function initializeVerificationCode() {
            const codeInputs = document.querySelectorAll('.code-input');
            
            codeInputs.forEach((input, index) => {
                input.addEventListener('input', (e) => {
                    if (e.target.value.length === 1 && index < codeInputs.length - 1) {
                        codeInputs[index + 1].focus();
                    }
                });
                
                input.addEventListener('keydown', (e) => {
                    if (e.key === 'Backspace' && e.target.value === '' && index > 0) {
                        codeInputs[index - 1].focus();
                    }
                });
            });
        }

        function sendSMS() {
            const phone = document.getElementById('phone').value;
            if (!phone) {
                showAlert('ูุฑุฌู ุฅุฏุฎุงู ุฑูู ุงููุงุชู ุฃููุงู', 'error');
                return;
            }
            
            // Simulate SMS sending
            showAlert('ุชู ุฅุฑุณุงู ุฑูุฒ ุงูุชุญูู ุฅูู ูุงุชูู', 'success');
            
            // Enable verification code inputs
            const codeInputs = document.querySelectorAll('.code-input');
            codeInputs.forEach(input => {
                input.disabled = false;
                input.style.opacity = '1';
            });
            
            // Focus first input
            codeInputs[0].focus();
        }

        function handleRegistration(e) {
            e.preventDefault();
            
            if (!validateCurrentStep()) {
                return;
            }
            
            // Check terms agreement
            if (!document.getElementById('terms').checked) {
                showAlert('ูุฌุจ ุงูููุงููุฉ ุนูู ุดุฑูุท ุงูุงุณุชุฎุฏุงู', 'error');
                return;
            }
            
            // Show loading
            const submitBtn = document.querySelector('button[type="submit"]');
            submitBtn.classList.add('loading');
            
            // Collect form data
            const formData = new FormData();
            formData.append('firstName', document.getElementById('firstName').value);
            formData.append('lastName', document.getElementById('lastName').value);
            formData.append('email', document.getElementById('email').value);
            formData.append('phone', document.getElementById('phone').value);
            formData.append('country', document.getElementById('country').value);
            formData.append('password', document.getElementById('password').value);
            formData.append('twoFactor', document.getElementById('twoFactor').checked);
            formData.append('biometric', document.getElementById('biometric').checked);
            formData.append('emailAlerts', document.getElementById('emailAlerts').checked);
            
            // Add verification code
            const verificationCode = Array.from(document.querySelectorAll('.code-input'))
                .map(input => input.value).join('');
            formData.append('verificationCode', verificationCode);
            
            // Add ID document if uploaded
            const idDocument = document.getElementById('idDocument').files[0];
            if (idDocument) {
                formData.append('idDocument', idDocument);
            }
            
            // Simulate registration process
            setTimeout(() => {
                // In a real application, you would send this to your server
                showAlert('ุชู ุฅูุดุงุก ุงูุญุณุงุจ ุจูุฌุงุญ! ูุฑุญุจุงู ุจู ูู BaHi Security Forex', 'success');
                
                setTimeout(() => {
                    window.location.href = 'trading.html';
                }, 3000);
            }, 3000);
        }

        function showAlert(message, type) {
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-triangle'}"></i>
                <span>${message}</span>
            `;
            document.body.appendChild(alert);
            
            setTimeout(() => {
                alert.remove();
            }, 5000);
        }
    </script>
</body>
</html>
