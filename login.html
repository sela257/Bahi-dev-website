<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تسجيل الدخول - BaHi Security Forex</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
</head>
<body class="auth-page">
    <div class="auth-background">
        <div class="auth-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
    </div>

    <div class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <div class="auth-logo">
                    <i class="fas fa-shield-alt"></i>
                    <span>BaHi Security Forex</span>
                </div>
                <h2>تسجيل الدخول الآمن</h2>
                <p>ادخل إلى حسابك بأمان تام</p>
            </div>

            <form class="auth-form" id="loginForm">
                <div class="security-indicator">
                    <div class="security-level">
                        <i class="fas fa-shield-virus"></i>
                        <span>حماية عسكرية نشطة</span>
                        <div class="security-status online"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="email">البريد الإلكتروني</label>
                    <div class="input-container">
                        <i class="fas fa-envelope"></i>
                        <input type="email" id="email" name="email" required>
                        <div class="input-security">
                            <i class="fas fa-lock"></i>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="password">كلمة المرور</label>
                    <div class="input-container">
                        <i class="fas fa-key"></i>
                        <input type="password" id="password" name="password" required>
                        <button type="button" class="password-toggle" onclick="togglePassword()">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div class="password-strength">
                        <div class="strength-bar">
                            <div class="strength-fill"></div>
                        </div>
                        <span class="strength-text">قوة كلمة المرور</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="captcha">رمز التحقق الذكي</label>
                    <div class="captcha-container">
                        <canvas id="captchaCanvas"></canvas>
                        <button type="button" class="captcha-refresh" onclick="generateCaptcha()">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                    <div class="input-container">
                        <i class="fas fa-robot"></i>
                        <input type="text" id="captcha" name="captcha" placeholder="أدخل الرمز" required>
                    </div>
                </div>

                <div class="biometric-auth">
                    <h4>المصادقة البيومترية</h4>
                    <div class="biometric-options">
                        <button type="button" class="biometric-btn" onclick="authenticateFingerprint()">
                            <i class="fas fa-fingerprint"></i>
                            <span>بصمة الإصبع</span>
                        </button>
                        <button type="button" class="biometric-btn" onclick="authenticateFace()">
                            <i class="fas fa-user-circle"></i>
                            <span>التعرف على الوجه</span>
                        </button>
                        <button type="button" class="biometric-btn" onclick="authenticateVoice()">
                            <i class="fas fa-microphone"></i>
                            <span>التعرف على الصوت</span>
                        </button>
                    </div>
                </div>

                <div class="form-options">
                    <label class="checkbox-container">
                        <input type="checkbox" id="remember">
                        <span class="checkmark"></span>
                        تذكرني لمدة 30 يوم
                    </label>
                    <a href="#" class="forgot-password">نسيت كلمة المرور؟</a>
                </div>

                <button type="submit" class="btn-primary full-width">
                    <i class="fas fa-sign-in-alt"></i>
                    <span>تسجيل الدخول الآمن</span>
                    <div class="btn-loader"></div>
                </button>

                <div class="auth-divider">
                    <span>أو</span>
                </div>

                <div class="social-login">
                    <button type="button" class="social-btn google">
                        <i class="fab fa-google"></i>
                        <span>تسجيل الدخول بـ Google</span>
                    </button>
                    <button type="button" class="social-btn facebook">
                        <i class="fab fa-facebook"></i>
                        <span>تسجيل الدخول بـ Facebook</span>
                    </button>
                </div>

                <div class="auth-footer">
                    <p>ليس لديك حساب؟ <a href="register.html">إنشاء حساب جديد</a></p>
                </div>
            </form>

            <div class="security-features">
                <div class="security-item">
                    <i class="fas fa-shield-check"></i>
                    <span>تشفير 256-bit</span>
                </div>
                <div class="security-item">
                    <i class="fas fa-user-shield"></i>
                    <span>حماية الهوية</span>
                </div>
                <div class="security-item">
                    <i class="fas fa-eye-slash"></i>
                    <span>خصوصية تامة</span>
                </div>
            </div>
        </div>

        <div class="auth-info">
            <div class="info-card">
                <h3>أمان لا يُضاهى</h3>
                <ul>
                    <li><i class="fas fa-check"></i> تشفير كمي متقدم</li>
                    <li><i class="fas fa-check"></i> مصادقة متعددة العوامل</li>
                    <li><i class="fas fa-check"></i> مراقبة AI للتهديدات</li>
                    <li><i class="fas fa-check"></i> حماية ضد الاختراق</li>
                </ul>
            </div>
            <div class="info-card">
                <h3>إحصائيات مباشرة</h3>
                <div class="live-stats">
                    <div class="stat">
                        <span class="stat-value" id="activeUsers">847,293</span>
                        <span class="stat-label">مستخدم نشط</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value" id="dailyProfit">$2,847,593</span>
                        <span class="stat-label">أرباح اليوم</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value">99.99%</span>
                        <span class="stat-label">وقت التشغيل</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Initialize login page
        document.addEventListener('DOMContentLoaded', function() {
            generateCaptcha();
            initializeSecurityFeatures();
            startLiveStats();
        });

        // Generate CAPTCHA
        function generateCaptcha() {
            const canvas = document.getElementById('captchaCanvas');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Generate random string
            const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnpqrstuvwxyz23456789';
            let captchaText = '';
            for (let i = 0; i < 6; i++) {
                captchaText += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            // Store captcha text
            window.captchaText = captchaText;
            
            // Draw background
            ctx.fillStyle = '#f0f0f0';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Add noise
            for (let i = 0; i < 100; i++) {
                ctx.fillStyle = `rgba(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255}, 0.1)`;
                ctx.fillRect(Math.random() * canvas.width, Math.random() * canvas.height, 2, 2);
            }
            
            // Draw text
            ctx.font = '24px Arial';
            ctx.fillStyle = '#333';
            ctx.textAlign = 'center';
            ctx.fillText(captchaText, canvas.width / 2, canvas.height / 2 + 8);
            
            // Add distortion lines
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, Math.random() * canvas.height);
            ctx.lineTo(canvas.width, Math.random() * canvas.height);
            ctx.stroke();
        }

        // Toggle password visibility
        function togglePassword() {
            const passwordInput = document.getElementById('password');
            const toggleBtn = document.querySelector('.password-toggle i');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleBtn.className = 'fas fa-eye-slash';
            } else {
                passwordInput.type = 'password';
                toggleBtn.className = 'fas fa-eye';
            }
        }

        // Biometric authentication functions
        function authenticateFingerprint() {
            showBiometricModal('fingerprint');
        }

        function authenticateFace() {
            showBiometricModal('face');
        }

        function authenticateVoice() {
            showBiometricModal('voice');
        }

        function showBiometricModal(type) {
            const modal = document.createElement('div');
            modal.className = 'biometric-modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="biometric-scanner ${type}">
                        <div class="scanner-animation"></div>
                        <i class="fas fa-${type === 'fingerprint' ? 'fingerprint' : type === 'face' ? 'user-circle' : 'microphone'}"></i>
                    </div>
                    <h3>جاري المسح...</h3>
                    <p>يرجى ${type === 'fingerprint' ? 'وضع إصبعك على الماسح' : type === 'face' ? 'النظر إلى الكاميرا' : 'التحدث بوضوح'}</p>
                    <button onclick="closeBiometricModal()" class="btn-secondary">إلغاء</button>
                </div>
            `;
            document.body.appendChild(modal);
            
            // Simulate authentication
            setTimeout(() => {
                modal.querySelector('h3').textContent = 'تم التحقق بنجاح!';
                modal.querySelector('p').textContent = 'تم التعرف عليك بنجاح';
                modal.querySelector('.scanner-animation').style.background = '#4CAF50';
                setTimeout(() => {
                    closeBiometricModal();
                    // Auto-fill form or proceed with login
                }, 2000);
            }, 3000);
        }

        function closeBiometricModal() {
            const modal = document.querySelector('.biometric-modal');
            if (modal) {
                modal.remove();
            }
        }

        // Initialize security features
        function initializeSecurityFeatures() {
            // Password strength checker
            const passwordInput = document.getElementById('password');
            passwordInput.addEventListener('input', checkPasswordStrength);
            
            // Form validation
            const form = document.getElementById('loginForm');
            form.addEventListener('submit', handleLogin);
        }

        function checkPasswordStrength(e) {
            const password = e.target.value;
            const strengthBar = document.querySelector('.strength-fill');
            const strengthText = document.querySelector('.strength-text');
            
            let strength = 0;
            if (password.length >= 8) strength += 25;
            if (/[A-Z]/.test(password)) strength += 25;
            if (/[0-9]/.test(password)) strength += 25;
            if (/[^A-Za-z0-9]/.test(password)) strength += 25;
            
            strengthBar.style.width = strength + '%';
            
            if (strength < 50) {
                strengthBar.style.background = '#ff4444';
                strengthText.textContent = 'ضعيفة';
            } else if (strength < 75) {
                strengthBar.style.background = '#ffaa00';
                strengthText.textContent = 'متوسطة';
            } else {
                strengthBar.style.background = '#44ff44';
                strengthText.textContent = 'قوية';
            }
        }

        function handleLogin(e) {
            e.preventDefault();
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const captcha = document.getElementById('captcha').value;
            
            // Validate CAPTCHA
            if (captcha !== window.captchaText) {
                showAlert('رمز التحقق غير صحيح', 'error');
                generateCaptcha();
                return;
            }
            
            // Show loading
            const submitBtn = document.querySelector('button[type="submit"]');
            submitBtn.classList.add('loading');
            
            // Simulate login process
            setTimeout(() => {
                // In a real application, you would send this to your server
                if (email && password) {
                    showAlert('تم تسجيل الدخول بنجاح!', 'success');
                    setTimeout(() => {
                        window.location.href = 'trading.html';
                    }, 2000);
                } else {
                    showAlert('يرجى ملء جميع الحقول', 'error');
                    submitBtn.classList.remove('loading');
                }
            }, 2000);
        }

        function showAlert(message, type) {
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-triangle'}"></i>
                <span>${message}</span>
            `;
            document.body.appendChild(alert);
            
            setTimeout(() => {
                alert.remove();
            }, 5000);
        }

        function startLiveStats() {
            setInterval(() => {
                const activeUsers = document.getElementById('activeUsers');
                const dailyProfit = document.getElementById('dailyProfit');
                
                if (activeUsers) {
                    const currentUsers = parseInt(activeUsers.textContent.replace(/,/g, ''));
                    const newUsers = currentUsers + Math.floor(Math.random() * 10) - 5;
                    activeUsers.textContent = newUsers.toLocaleString();
                }
                
                if (dailyProfit) {
                    const currentProfit = parseInt(dailyProfit.textContent.replace(/[$,]/g, ''));
                    const newProfit = currentProfit + Math.floor(Math.random() * 1000);
                    dailyProfit.textContent = '$' + newProfit.toLocaleString();
                }
            }, 5000);
        }
    </script>
</body>
</html>
